(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a.p+"static/media/pinpoint.b0112773.png"},130:function(e,t,a){e.exports=a(268)},137:function(e,t,a){},151:function(e,t){},153:function(e,t){},187:function(e,t){},188:function(e,t){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},268:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),i=a(50),c=a.n(i),r=(a(135),a(136),a(137),a(51)),l=a(119),s=a(120),u=a(121),m=a(127),d=a(122),h=a(128),f=a(279),g=a(281),p=a(278),E=a(280),v=a(276),L=a(36),b=a.n(L),w=a(13),S=a.n(w),k=a(123),y=a.n(k),C=(a(258),a(259),function(e){return o.a.createElement("button",{className:"toggle-button",onClick:e.click},o.a.createElement("div",{className:"toggle-button__line"}),o.a.createElement("div",{className:"toggle-button__line"}),o.a.createElement("div",{className:"toggle-button__line"}))}),N=(a(260),function(e){return o.a.createElement("header",{className:"toolbar"},o.a.createElement("nav",{className:"toolbar__navigation"},o.a.createElement("div",{className:"toolbar__toggle-button"},o.a.createElement(C,{click:e.drawerClickHandler})),o.a.createElement("div",{className:"toolbar__logo"},o.a.createElement("a",{href:"/"},"Sailboat Location")),o.a.createElement("div",{className:"spacer"}),o.a.createElement("div",{className:"toolbar_navigation-items"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"/"},"Login"))))))}),O=(a(261),function(e){var t="side-drawer";return e.show&&(t="side-drawer open"),o.a.createElement("nav",{className:t},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"/"},"Main")),o.a.createElement("li",null,o.a.createElement("a",{href:"/"},"Camera")),o.a.createElement("li",null,o.a.createElement("a",{href:"/"},"Data"))))}),_=(a(262),function(e){return o.a.createElement("div",{className:"backdrop",onClick:e.click})}),j=a(270),D=a(271),F=a(272),U=a(273),z=a(274),H=a(275),I=a(277),x=(a(263),function(e){return o.a.createElement(j.a,{body:!0,className:"location-form"},o.a.createElement(D.a,null,"Sailboat Geolocation"),e.sendingLocation||e.sentLocation||!e.haveUsersLocation?e.sendingLocation||!e.haveUsersLocation?o.a.createElement(I.a,null,"Successfully submit a location!"):"":o.a.createElement(F.a,{onSubmit:e.formSubmitted},o.a.createElement(U.a,null,o.a.createElement(z.a,{for:"slat"},"Latitude"),o.a.createElement(H.a,{onChange:e.valueChanged,type:"number",step:"0.0000001",name:"slat",id:"slat",placeholder:"Enter the latitude"})),o.a.createElement(U.a,null,o.a.createElement(z.a,{for:"slng"},"Longitude"),o.a.createElement(H.a,{onChange:e.valueChanged,type:"number",step:"0.0000001",name:"slng",id:"slng",placeholder:"Enter the longitude"})),o.a.createElement(v.a,{type:"cancel",color:"danger",onClick:e.cancelLocation},"Cancel")," "," ",o.a.createElement(v.a,{type:"submit",color:"info",disabled:!e.formIsValid()},"Send")))}),V="localhost"===window.location.hostname?"http://10.234.35.203:80/api/v1/locations":"http://202.170.57.175:80/api/v1/locations";var A=S.a.icon({iconUrl:y.a,iconSize:[30,41],iconAnchor:[12.5,40],popupAnchor:[0,-45]}),T=b.a.object().keys({latitude:b.a.number().min(-90).max(90).required(),longitude:b.a.number().min(-180).max(180).required()}),J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={location:{lat:5.354482,lng:100.301226},haveUsersLocation:!1,zoom:1,userSetLocation:{slat:"",slng:""},locations:[],showLocationForm:!1,sendingLocation:!1,sentLocation:!1,sideDrawerOpen:!1},a.showLocationForm=function(){a.setState({showLocationForm:!0})},a.cancelLocation=function(){a.setState({showLocationForm:!1})},a.formIsValid=function(){var e={latitude:a.state.userSetLocation.slat,longitude:a.state.userSetLocation.slng};return!(b.a.validate(e,T).error||!e)},a.formSubmitted=function(e){(e.preventDefault(),a.formIsValid())&&(a.setState({sendingLocation:!0}),function(e){return fetch(V,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})}({latitude:a.state.userSetLocation.slat,longitude:a.state.userSetLocation.slng}).then(function(e){setTimeout(function(){a.setState({sendingLocation:!1,sentLocation:!0})},4e3)}))},a.valueChanged=function(e){var t=e.target,n=t.name,o=t.value;a.setState(function(e){return{userSetLocation:Object(l.a)({},e.userSetLocation,Object(r.a)({},n,o))}})},a.drawerToggleClickHandler=function(){a.setState(function(e){return{sideDrawerOpen:!e.sideDrawerOpen}})},a.backdropClickHandler=function(){a.setState({sideDrawerOpen:!1})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(V).then(function(e){return e.json()}).then(function(e){return e}).then(function(t){e.setState({locations:t,haveUsersLocation:!0,zoom:18})})}},{key:"render",value:function(){var e,t=[this.state.location.lat,this.state.location.lng];return this.state.sideDrawerOpen&&(e=o.a.createElement(_,{click:this.backdropClickHandler})),o.a.createElement("div",{style:{height:"100%"}},o.a.createElement(N,{drawerClickHandler:this.drawerToggleClickHandler}),o.a.createElement(O,{show:this.state.sideDrawerOpen}),e,o.a.createElement("div",{className:"map"},o.a.createElement(f.a,{className:"map",center:t,zoom:this.state.zoom},o.a.createElement(g.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.state.haveUsersLocation?o.a.createElement(p.a,{position:t,icon:A},o.a.createElement(E.a,null,"lat:",this.state.location.lat,", lng:",this.state.location.lng)):"",this.state.locations.map(function(e){return o.a.createElement(p.a,{position:[e.latitude,e.longitude],icon:A},o.a.createElement(E.a,null,"lat:",e.latitude,", lng:",e.longitude))})),this.state.showLocationForm?this.state.sentLocation?this.setState({sentLocation:!1,showLocationForm:!1}):o.a.createElement(x,{cancelLocation:this.cancelLocation,showLocationForm:this.state.showLocationForm,sendingLocation:this.state.sendingLocation,sentLocation:this.state.sentLocation,haveUsersLocation:this.state.haveUsersLocation,formSubmitted:this.formSubmitted,valueChanged:this.valueChanged,formIsValid:this.formIsValid}):o.a.createElement(v.a,{className:"location-form",onClick:this.showLocationForm,color:"info"},"Add a location")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=function(){c.a.render(o.a.createElement(J,null),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",M,!1):M(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[130,1,2]]]);
//# sourceMappingURL=main.ea431023.chunk.js.map